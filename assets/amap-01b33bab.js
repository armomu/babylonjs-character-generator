import{A as l}from"./index-bc4743b4.js";import{q as u,v as m,w as d,x as p}from"./index-c8411ed3.js";import"./_commonjsHelpers-23102255.js";const v={id:"amap2",style:{height:"calc(100vh - 124px)",position:"relative"}},y=u({__name:"amap",setup(g){var i,e;(async()=>{i=await l.load({key:"527a03c5d37f26c924d83b3c68f9ac5c",version:"2.0",Loca:{version:"2.0"}}),c()})();const c=()=>{e=new i.Map("amap2",{viewMode:"3D",zoom:11.8,center:[121.304018,31.217688],skyColor:"#1a1a1a",mapStyle:"amap://styles/dark",showBuildingBlock:!1,showLabel:!1});var o=new Loca.Container({map:e});o.ambLight={intensity:2.2,color:"#babedc"},o.dirLight={intensity:.46,color:"#d4d4d4",target:[0,0,0],position:[0,-1,1]},o.pointLight={color:"rgb(15,19,40)",position:[121.5043258,31.2392241,2600],intensity:25,distance:3900};var n=new Loca.GeoJSONSource({url:"https://a.amap.com/Loca/static/loca-v2/demos/mock_data/sh_building_center.json"}),a=new Loca.PolygonLayer({zIndex:120,shininess:10,hasSide:!0,cullface:"back",depth:!0});a.setSource(n),a.setStyle({topColor:"#111",height:function(t,s){return s.properties.h},textureSize:[1e3,820],texture:"https://a.amap.com/Loca/static/loca-v2/demos/images/windows.jpg"}),a.setLoca(o),e.on("complete",function(){o.animate.start(),setTimeout(r,2e3)});function r(){var t=1;e.setZoom(11.8,!0),e.setPitch(0,!0),e.setCenter([121.304018,31.217688],!0),e.setRotation(1,!0),a.hide(1e3),o.viewControl.addAnimates([{pitch:{value:0,control:[[0,20],[1,0]],timing:[0,0,.8,1],duration:3e3/t},zoom:{value:15.9,control:[[0,12.8],[1,15.9]],timing:[0,0,.8,1],duration:3e3/t},rotation:{value:-20,control:[[0,20],[1,-20]],timing:[0,0,.8,1],duration:2e3/t}}],function(){setTimeout(function(){a.show(2e3)},3e3),o.viewControl.addAnimates([{center:{value:[121.500419,31.238089],control:[[121.424503326416,31.199146851153124],[121.46656036376952,31.245828642661486]],timing:[.3,0,.1,1],duration:8e3/t},zoom:{value:17,control:[[.3,15],[1,17]],timing:[.3,0,.7,1],duration:4e3/t},pitch:{value:50,control:[[.3,0],[1,50]],timing:[.3,0,1,1],duration:3e3/t},rotation:{value:-80,control:[[0,-20],[1,-80]],timing:[0,0,1,1],duration:1e3/t}},{pitch:{value:50,control:[[0,40],[1,50]],timing:[.3,0,1,1],duration:7e3/t},rotation:{value:260,control:[[0,-80],[1,260]],timing:[0,0,.7,1],duration:7e3/t},zoom:{value:17,control:[[.3,16],[1,17]],timing:[.3,0,.9,1],duration:5e3/t}},{center:{value:[121.500419,31.238089],control:[[121.49986267089844,31.227628422210365],[121.49969100952148,31.24025152837923]],timing:[.3,0,.7,1],duration:2e3/t},pitch:{value:0,control:[[0,0],[1,100]],timing:[.1,0,.7,1],duration:2e3/t},rotation:{value:361,control:[[0,260],[1,361]],timing:[.3,0,.7,1],duration:2e3/t},zoom:{value:13.8,control:[[0,17.5],[1,13.8]],timing:[.3,0,.7,1],duration:2500/t}}],()=>{a.hide(1e3),setTimeout(r,2e3)})})}};return m(()=>{e.destroy()}),(o,n)=>(d(),p("div",v))}});export{y as default};
